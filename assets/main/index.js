System.register("chunks:///_virtual/bird.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,e,o,s,r,a,c,u,p,h;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator,o=t.Collider2D,s=t.Contact2DType,r=t.RigidBody2D,a=t.ERigidBody2DType,c=t.tween,u=t.Vec3,p=t.Quat,h=t.Component}],execute:function(){var l;i._RF.push({},"6de22PJEupDTZBsDumSzb8W","bird",void 0);var d=e.ccclass;e.property,t("default",d("Bird")(l=function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).jumpHeight=100,n.jumpDuration=.3,n.lastAction=null,n.game=void 0,n}n(i,t);var e=i.prototype;return e.onBeginContact=function(t,n,i){this.game.gameOver()},e.init=function(t){this.game=t;var n=this.getComponent(o);n&&n.on(s.BEGIN_CONTACT,this.onBeginContact,this),this.resetBird()},e.fly=function(){var t=this.node.getComponent(r);t.type=a.Static,this.node.angle=30,this.lastAction&&this.lastAction.stop();var n=c(this.node).by(1,{position:new u(0,this.jumpHeight,0)},{easing:"sineOut"}).call((function(){t.type=a.Dynamic})),i=new p;p.fromEuler(i,0,90,0);var e=c(this.node).to(this.jumpDuration,{rotation:i},{easing:"sineIn"});this.lastAction=c(this.node).sequence(n,e),this.lastAction.start()},e.resetBird=function(){this.node.getComponent(r).type=a.Static,this.node.angle=0,this.node.position=new u(0,0,0)},e.startBird=function(){this.node.getComponent(r).type=a.Dynamic},i}(h))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/game.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,r,n,s,o,a,u,l,c,h,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,a=t.Component,u=t.v2,l=t.PhysicsSystem2D,c=t.PHYSICS_2D_PTM_RATIO,h=t.Input,p=t.director}],execute:function(){var g,d,f,b,m,y,v,P,M,S,C;s._RF.push({},"50ce4n12F9C953aVuPhrYJH","game",void 0);var _=o.ccclass,O=o.property;t("default",(g=_("Game"),d=O(a),f=O(a),b=O(a),m=O(a),g((P=i((v=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,r(i,"bird",P,n(i)),r(i,"poolMng",M,n(i)),r(i,"ground",S,n(i)),r(i,"result",C,n(i)),i.speed=120,i.gravity=u(0,-1960),i.isStart=!1,i.isOver=!1,i}e(i,t);var s=i.prototype;return s.onLoad=function(){this.bird=this.bird.getComponent("Bird"),this.bird.init(this),this.poolMng=this.poolMng.getComponent("PipePool"),this.poolMng.init(this),this.ground=this.ground.getComponent("Ground"),this.ground.init(this),this.result=this.result.getComponent("Result"),this.result.init(this),this.initPhysicsManager(),this.initListener()},s.initPhysicsManager=function(){l.instance.enable=!0,l.instance.gravity=u(0,-20*c)},s.initListener=function(){var t=this;this.node.on(h.EventType.TOUCH_START,(function(){t.isOver||(t.isStart||t.startGame(),t.bird.fly())}))},s.startGame=function(){this.isStart=!0,this.bird.startBird(),this.createPipe(),p.resume()},s.createPipe=function(){var t=this.poolMng.createPipe();t&&this.node.insertChild(t,2)},s.passPipe=function(){this.result.addScore()},s.gameOver=function(){this.isOver=!0,console.log("碰到障碍，游戏结束"),this.result.showResult(),p.pause()},s.resStartGame=function(){this.isStart=!1,this.isOver=!1,this.result.initResult(),this.poolMng.reset(),this.bird.resetBird(),p.resume()},i}(a)).prototype,"bird",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(v.prototype,"poolMng",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(v.prototype,"ground",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(v.prototype,"result",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/ground.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o,r,s,a,u,c,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Prefab,u=t.instantiate,c=t.Vec3,d=t.Component}],execute:function(){var l,h,p,g,f;r._RF.push({},"02aa85zspdFm4sE5OpMhSHY","ground",void 0);var v=s.ccclass,y=s.property;t("default",(l=v("Ground"),h=y(a),l((f=i((g=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"groundTile",f,o(i)),i.game=void 0,i}e(i,t);var r=i.prototype;return r.onLoad=function(){this.initGround()},r.init=function(t){this.game=t},r.initGround=function(){for(var t=-18;t<=18;++t){var i=u(this.groundTile),e=i.getPosition();i.setPosition(new c(37*t,0,e.z)),this.node.addChild(i)}},r.update=function(t){if(this.game&&!this.game.isOver&&this.game.isStart){var i=this.game.speed*t,e=this.node.getPosition();this.node.setPosition(new c(e.x-i,e.y,e.z)),this.node.getPosition().x<-320&&this.node.setPosition(new c(this.node.getPosition().x+320-18.5,e.y,e.z))}},i}(d)).prototype,"groundTile",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./bird.ts","./game.ts","./ground.ts","./pipe.ts","./pipePool.ts","./result.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/pipe.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,o,n,s,p,r,a,h,P,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,p=t._decorator,r=t.Sprite,a=t.Vec3,h=t.UITransform,P=t.BoxCollider2D,c=t.Vec2,u=t.Component}],execute:function(){var l,d,g,m,f,b,y;s._RF.push({},"d126e0IW+JGDZ2mf92DezDC","pipe",void 0);var v=p.ccclass,z=p.property,C=function(t,e){return Math.random()*(e-t)+t};t("default",(l=v("Pipe"),d=z(r),g=z(r),l((b=e((f=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),p=0;p<i;p++)s[p]=arguments[p];return e=t.call.apply(t,[this].concat(s))||this,o(e,"topPipe",b,n(e)),o(e,"bottomPipe",y,n(e)),e.game=void 0,e.isPass=!1,e}i(e,t);var s=e.prototype;return s.init=function(t){this.game=t,this.isPass=!1,this.initPos()},s.initPos=function(){this.node.setPosition(new a(360,0,0));var t=C(200,300),e=C(200,400),i=448-e+e/2;this.topPipe.node.getComponent(h).height=e;var o=this.topPipe.node.getPosition();this.topPipe.node.setPosition(0,i,o.z);var n=832-e-t,s=384-n/2;this.bottomPipe.node.getComponent(h).height=n,o=this.bottomPipe.node.getPosition(),this.bottomPipe.node.setPosition(0,-s,o.z);var p=this.topPipe.getComponent(P);p.size=this.topPipe.node.getComponent(h).contentSize,p.offset=new c(0,0),p.apply();var r=this.bottomPipe.getComponent(P);r.size=this.bottomPipe.node.getComponent(h).contentSize,r.offset=new c(0,0),r.apply()},s.update=function(t){if(this.game.isStart){var e=this.game.speed*t,i=this.node.getPosition();this.node.setPosition(i.x-e,i.y,i.z),i=this.topPipe.node.getPosition(),this.topPipe.node.setPosition(new a(0,i.y,i.z)),i=this.bottomPipe.node.getPosition(),this.bottomPipe.node.setPosition(new a(0,i.y,i.z)),!this.isPass&&this.game&&this.game.bird.node.getPosition().x>this.node.getPosition().x&&(this.isPass=!0,this.game.passPipe(),this.game.createPipe()),this.isPass&&this.node.getPosition().x<=-400&&this.game.poolMng.reusePipe(this.node)}},e}(u)).prototype,"topPipe",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(f.prototype,"bottomPipe",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=f))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/pipePool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var t,e,o,n,r,p,s,a,u,l;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){r=i.cclegacy,p=i._decorator,s=i.Prefab,a=i.NodePool,u=i.instantiate,l=i.Component}],execute:function(){var c,h,f,P,d,v;r._RF.push({},"2e561jpC7FNpauTOc3xqVrU","pipePool",void 0);var g=p.ccclass,b=p.property;i("default",(c=g("PipePool"),h=b(s),c(((v=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),p=0;p<e;p++)r[p]=arguments[p];return t=i.call.apply(i,[this].concat(r))||this,o(t,"pipePrefab",d,n(t)),t.pool=null,t.nodeList=void 0,t.game=void 0,t}e(t,i);var r=t.prototype;return r.init=function(i){this.game=i,this.nodeList=[],this.initPool()},r.initPool=function(){this.pool=new a;for(var i=0;i<t.initCount;++i){var e=u(this.pipePrefab);this.pool.put(e),this.nodeList.push(e)}},r.createPipe=function(){var i=null;return this.pool.size()>0?i=this.pool.get():(i=u(this.pipePrefab),this.nodeList.push(i)),i.getComponent("Pipe").init(this.game),i},r.reusePipe=function(i){0==t.initCount?i.removeFromParent():this.pool.put(i)},r.reset=function(){var i=this;this.nodeList.forEach((function(t){i.reusePipe(t)}))},t}(l)).initCount=0,d=t((P=v).prototype,"pipePrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=P))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/result.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,o,s,c,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,c=e.Label,a=e.Component}],execute:function(){var l,u,h,b,p,d,f,S,g;o._RF.push({},"a30651p+npLA6pGBbaRHvDT","result",void 0);var L=s.ccclass,v=s.property;e("default",(l=L("Result"),u=v(c),h=v(c),b=v(c),l((f=t((d=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).game=void 0,t.maxScore=0,t.score=0,i(t,"scoreLabel",f,n(t)),i(t,"currentScoreLabel",S,n(t)),i(t,"bestScoreLabel",g,n(t)),t}r(t,e);var o=t.prototype;return o.init=function(e){this.game=e,this.initResult()},o.initResult=function(){this.updateScore(0),this.node.active=!1,this.scoreLabel.node.active=!0,this.scoreLabel.node.setSiblingIndex(999)},o.addScore=function(){this.updateScore(this.score+1)},o.updateScore=function(e){this.score=e,this.scoreLabel.string=this.score.toString()},o.showResult=function(){this.maxScore=Math.max(this.maxScore,this.score),this.scoreLabel.node.active=!1,this.node.active=!0,this.node.setSiblingIndex(9999),this.currentScoreLabel.string=this.score.toString(),this.bestScoreLabel.string=this.maxScore.toString(),this.scoreLabel.node.active=!1},t}(a)).prototype,"scoreLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(d.prototype,"currentScoreLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(d.prototype,"bestScoreLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});